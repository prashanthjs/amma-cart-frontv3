<div layout="column">

    <div flex layout="column" layout-align="space-around center">
        <md-button class="md-primary md-raised md-fab" ngf-select="vm.uploadFiles($files, $invalidFiles)"
                   ngf-multiple="true" aria-label="upload">
            <md-icon md-font-icon
                     ng-class="{ 'zmdi zmdi-cloud-upload': vm.status == 'idle', 'fa fa-spinner fa-pulse': vm.status == 'uploading', 'zmdi zmdi-check': vm.status == 'complete'}"></md-icon>
        </md-button>
    </div>


    <md-list layout="column" ng-if="vm.files && vm.files.length">
        <md-subheader class="md-no-sticky">Files to be upload</md-subheader>
        <md-list-item layout="row" ng-repeat="file in vm.files">
            <img ngf-thumbnail="file"
                 ngf-size="{width: 50, height: 50, quality: 0.9}"
                 class="md-avatar"/>
            <p flex class="md-list-item-text" layout="row" layout-align="center center">
                {{file.name }}
            </p>
            <p flex class="md-list-item-text md-caption" layout="row" layout-align="center center">
                {{file.size / 1000000|number:1}}MB
            </p>

            <md-progress-circular class="md-warn" md-mode="determinate" value="{{file.progress}}">
            </md-progress-circular>

        </md-list-item>
    </md-list>
    <md-list layout="column" ng-if="vm.errorFiles && vm.errorFiles.length">
        <md-subheader class="md-no-sticky">Error files</md-subheader>
        <md-list-item layout="row" layout-align="space-around center"
                      ng-repeat="file in vm.errorFiles">
             <img ngf-thumbnail="file"
                 ngf-size="{width: 50, height: 50, quality: 0.9}"
                 class="md-avatar"/>
            <p flex class="md-list-item-text" layout="row" layout-align="center center">
                {{ file.name }}
            </p>
            <p flex class="md-list-item-text md-caption" layout="row" layout-align="center center">
                {{file.size / 1000000|number:1}}MB
            </p>
            <md-button class="md-warn md-raised md-fab" aria-label="delete">
                <md-icon md-font-icon class="zmdi zmdi-delete"></md-icon>
            </md-button>
            <md-divider></md-divider>
        </md-list-item>

    </md-list>

    <md-list layout="column" ng-if="vm.listFiles && vm.listFiles.length">
        <md-subheader class="md-no-sticky">Uploaded files</md-subheader>
        <md-list-item layout="row" layout-align="space-around center"
                      ng-repeat="file in vm.listFiles" >
            <img  ng-src="{{vm.viewFile(file)}}"
                 class="md-avatar"/>
            <p flex class="md-list-item-text" layout="row" layout-align="center center">
                {{ ::file }}
            </p>
            <md-button class="md-warn md-raised md-fab" aria-label="delete" ng-click="vm.deleteFile(file)">
                <md-icon md-font-icon class="zmdi zmdi-delete"></md-icon>
            </md-button>
            <md-divider></md-divider>
        </md-list-item>

    </md-list>
</div>
